---
layout: post
title: 李群与李代数 | 视觉SLAM十四讲-ch4
date: 2022-03-20
categories: 技术 
tags: 视觉SLAM十四讲 SLAM
---
> 首先弄明白为啥要引入李群/李代数，其次记住李群/李代数的性质和对应关系；最后了解基于李群/李代数的求导/优化。

这一章，可以看下文章[大师兄！SLAM 为什么需要李群与李代数？][1], 抛出公式，更加容易懂。

## 1. 为什么要引入李群/李代数

SLAM 估计物体的运动，其实就是通过最优化手段，求解旋转矩阵 $R$ 和 平移向量 $\newcommand{\bs}{\boldsymbol} \bs{t}$. 
而旋转矩阵 $R$ 并非随便的一个矩阵，它要求 1. $R^T = R^{-1}$ （即正交矩阵） 2. 行列式为1 $det(R) = 1$. 

也就是说，求解 $R$, 如果是在全部的矩阵空间中，是需要带约束的。而带约束的优化，往往都不太好做，需要想办法转成无约束优化。

而引入李群，就可以解决此问题：将对旋转矩阵求解的带约束的最优化问题转为无约束最优化问题！

进一步，引入李代数，应该有2个原因：

1. 李代数可以向量的空间，通过李代数和李群的特殊对应关系，可以实现矩阵到向量的映射，解决一些矩阵不好度量的问题。
  
   比如书上4.4.2例子，衡量两条轨迹的误差，通过平均每个时刻真实变换矩阵 $T_g$ 和 估计的变换矩阵 $T_e$ 间差距来表示。
   而变换矩阵间的差距如何衡量？书上的定义就是矩阵乘之后，通过转换($\log$)为李代数，在向量空间计算2范数，
   从而得到一个标量来表达变换矩阵间的误差。

2. 提供一种李群求导方法：李群只对乘法封闭，而导数结果涉及加法，没法做；转为李代数，其在加法上封闭，可以支持求导操作。

## 2. 李群、李代数介绍

首先看群(`Group`)是什么： 群是一种集合+一种运算的代数结构。

设集合为 $\mathbf{A}$, 运算为 $\cdot$, 则群可记做 $G(A, \cdot)$, 
且要求此运算满足 a. 封闭性 b. 结合律 c. 幺元 d. 逆 （谐音“丰俭由你”/"凤姐咬你"？）。

李群（`Lie Group`） 是具有连续（光滑）性质的群，区别于离散的群（如整数集合和加法运算构成的整数群 $(\mathbb{Z}, +)$）
   
> 李群的名字源于挪威数学家索菲斯·李(`Sophus Lie`)的姓氏，以其为连续变换群奠定基础。
1893年，法文名词groupes de Lie首次出现在李的学生Arthur Tresse的论文第三页中。  
李群被广泛应用于现代数学和物理学。[LieGroup-wikipedia][2]

要引入李代数及描述二者的关系，需要微分几何(Differencial Geometry)的知识。这块我现在还不太懂，直接记住：
从微分几何的角度看，李群是有群结构的光滑流型，流型中的每个元素都有其正切空间(Tangent Space)。 特别的，
在 identity （即幺元、单位元） 处的正切空间，就对应到一个李代数空间，它是一个线性空间（流型是弯曲的空间）。
那是不是李群只有在单位元才能对应到李代数呢？也不是的，李群与李代数的对应是全集的。因为李群元素有线性性质
(adjoint matrix?)，可以把任意李群元素转换至 identity 的正切空间，故对应是全局的。
进一步可以参考[^1]. 

[^1]: 这段论述来自[知乎-如何通俗地解释李群和李代数的关系？][3]. 里面提到了[manif](https://github.com/artivis/manif) 这个仓库，这个仓库主要参考的论文，应该是[A micro Lie theory for state estimation in robotics](https://arxiv.org/abs/1812.01537). 再去进一步搜索，发现[李群与李代数的理解](https://blog.csdn.net/qq_43066145/article/details/114818091) 和[A Micro Lie Theory 论文理解](https://www.cnblogs.com/JingeTU/p/13466236.html) 都提到了该论文。或许要进一步（快速）理解，可以看看这篇文章。

## 3. $\mathrm{SO}(3)$, $\mathrm{SE}(3)$ 和 $\mathfrak{so}(3)$, $\mathfrak{se}(3)$

$\mathrm{SO}(3)$ 表示特殊正交群(Special Orthogonal Group)，构建在旋转矩阵集合上 
$\left \\{R \in \mathbb{R}^{3 \times 3} \right \\}$，运算是矩阵乘法； 
$\mathrm{SE}(3)$ 是特殊欧氏群(Special Euclidean Group)，
构建在变换矩阵上$\left \\{ R \in \mathbb{R}^{4 \times 4} \right \\}$, 运算也是矩阵乘法。

$\mathfrak{so}(3)$ 为 $\mathrm{SO}(3)$ 对应的李代数。$\mathfrak{se}(3)$ 为 $\mathrm{SE}(3)$ 对应的李代数。

从$\mathfrak{so}(3)$转换到$\mathrm{SO}(3)$， 是指数映射关系，转换公式就是前面的罗德里格斯公式（即旋转向量向旋转矩阵的转换公式）。
这样，$\mathfrak{so}(3)$ 是旋转向量所在空间，而 $\mathrm{SO}(3)$ 就是旋转矩阵所在空间。
还挺神奇的……
另外，可以认为$\mathfrak{so}(3)$对应到$\mathrm{SO}(3)$的导数。这是从前面的李代数是李群在identidy处的正切空间引出的。
这个性质是引入李代数的原因。

从$\mathrm{SO}(3)$转换到$\mathfrak{so}(3)$, 是对数映射关系。


[1]: https://mp.weixin.qq.com/s/sVjy9kr-8qc9W9VN78JoDQ "大师兄！SLAM 为什么需要李群与李代数？"
[2]: https://zh.wikipedia.org/wiki/%E6%9D%8E%E7%BE%A4 "Lie Group"
[3]: https://www.zhihu.com/question/356466246 "如何通俗地解释李群和李代数的关系？"